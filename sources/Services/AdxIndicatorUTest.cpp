/**************************************************************************
 *   Created: 2017/01/04 01:47:31
 *    Author: Eugene V. Palchukovsky
 *    E-mail: eugene@palchukovsky.com
 * -------------------------------------------------------------------
 *   Project: Trading Robot Development Kit
 *       URL: http://robotdk.com
 * Copyright: Eugene V. Palchukovsky
 **************************************************************************/

#include "Prec.hpp"
#include "Core/ContextMock.hpp"
#include "Core/MarketDataSourceMock.hpp"
#include "Core/SecurityMock.hpp"
#include "Services/BarServiceMock.hpp"
#include "AdxIndicator.hpp"

using namespace testing;
using namespace trdk::Tests;

namespace lib = trdk::Lib;
namespace is = trdk::Services::Indicators;
namespace pt = boost::posix_time;

namespace {

const double source[][6] = {
    //  High      Low    Close          +DI14          -DI14            ADX
    {30.1983, 29.4072, 29.8720, 0.00000000000, 0.00000000000, 0.00000000000},
    {30.2776, 29.3182, 30.2381, 0.00000000000, 0.00000000000, 0.00000000000},
    {30.4458, 29.9611, 30.0996, 0.00000000000, 0.00000000000, 0.00000000000},
    {29.3478, 28.7443, 28.9028, 0.00000000000, 0.00000000000, 0.00000000000},
    {29.3477, 28.5566, 28.9225, 0.00000000000, 0.00000000000, 0.00000000000},
    {29.2886, 28.4081, 28.4775, 0.00000000000, 0.00000000000, 0.00000000000},
    {28.8334, 28.0818, 28.5566, 0.00000000000, 0.00000000000, 0.00000000000},
    {28.7346, 27.4289, 27.5576, 0.00000000000, 0.00000000000, 0.00000000000},
    {28.6654, 27.6565, 28.4675, 0.00000000000, 0.00000000000, 0.00000000000},
    {28.8532, 27.8345, 28.2796, 0.00000000000, 0.00000000000, 0.00000000000},
    {28.6356, 27.3992, 27.4882, 0.00000000000, 0.00000000000, 0.00000000000},
    {27.6761, 27.0927, 27.2310, 0.00000000000, 0.00000000000, 0.00000000000},
    {27.2112, 26.1826, 26.3507, 0.00000000000, 0.00000000000, 0.00000000000},
    {26.8651, 26.1332, 26.3309, 0.00000000000, 0.00000000000, 0.00000000000},
    {27.4090, 26.6277, 27.0333, 7.01955367643, 32.21915850903, 0.00000000000},
    {26.9441, 26.1332, 26.2221, 6.51278900757, 33.85933096287, 0.00000000000},
    {26.5189, 25.4307, 26.0144, 5.95322264738, 36.49674268134, 0.00000000000},
    {26.5189, 25.3518, 25.4605, 5.41578280512, 33.81222620948, 0.00000000000},
    {27.0927, 25.8760, 27.0333, 8.97530998163, 29.76519581904, 0.00000000000},
    {27.6860, 26.9640, 27.4487, 12.92383806987, 28.15959489297, 0.00000000000},
    {28.4477, 27.1421, 28.3586, 17.24126896732, 25.48269656716, 0.00000000000},
    {28.5267, 28.0123, 28.4278, 17.16824091320, 24.49470510728, 0.00000000000},
    {28.6654, 27.8840, 27.9530, 17.20295008588, 23.03377304199, 0.00000000000},
    {29.0116, 27.9928, 29.0116, 18.44378491492, 21.18990443525, 0.00000000000},
    {29.8720, 28.7643, 29.3776, 23.34470465564, 19.43658962396, 0.00000000000},
    {29.8028, 29.1402, 29.3576, 22.16335007659, 18.45300450296, 0.00000000000},
    {29.7529, 28.7127, 28.9107, 20.41661987504, 20.23768339817, 0.00000000000},
    {30.6546, 28.9290, 30.6149, 24.31423539844, 17.71673719622, 0.00000000000},
    {30.5951, 30.0304, 30.0502, 23.26804599904, 16.95442399398, 31.61475564061},
    {30.7635, 29.3863, 30.1890, 20.97768262228, 19.88916846186, 29.54681328042},
    {31.1698, 30.1365, 31.1202, 22.32910400809, 18.42382829874, 28.12081298247},
    {30.8923, 30.4267, 30.5356, 21.20017658010, 17.49234600158, 26.79666984866},
    {30.0402, 29.3467, 29.7827, 19.39024724227, 23.75430158362, 25.60511922555},
    {30.6645, 29.9906, 30.0402, 22.67206233614, 22.23786359903, 23.84524080347},
    {30.5951, 29.5152, 30.4861, 20.91144653842, 23.92957303110, 22.62277551291},
    {31.9724, 30.9418, 31.4670, 28.31803760616, 21.45954594336, 21.99102537769},
    {32.1011, 31.5364, 32.0515, 27.95484371785, 20.48791681236, 21.52123192286},
    {32.0317, 31.3580, 31.9724, 26.53954885532, 20.75303831598, 20.85796928930},
    {31.6255, 30.9220, 31.1302, 24.51505843808, 22.33626850203, 19.70028818174},
    {31.8534, 31.1994, 31.6551, 24.88965980731, 21.14055544720, 18.87490166019},
    {32.7055, 32.1308, 32.6360, 29.23433286308, 19.50715988306, 18.95216996557},
    {32.7648, 32.2298, 32.5866, 28.49640372179, 18.71406199358, 19.07849395685},
    {32.5766, 31.9724, 32.1903, 27.13256111427, 19.82413600366, 18.82747156926},
    {32.1308, 31.5562, 32.1011, 25.76173631022, 22.13871656968, 18.02291245871},
    {33.1215, 32.2101, 32.9335, 31.50415111968, 20.35638235575, 18.27096651754},
    {33.1909, 32.6262, 33.0027, 30.62443394979, 19.42438229273, 18.56434425684},
    {32.5172, 31.7642, 31.9425, 27.63593932444, 24.32081660024, 17.69407267952},
    {32.4379, 31.7840, 32.3883, 26.18313835996, 23.04228919435, 16.88596335772},
    {33.2207, 32.0912, 32.4875, 30.02436550292, 20.98971867026, 16.94483047238},
    {32.8343, 32.1903, 32.8046, 28.46731300022, 19.90119961452, 16.99949279313},
    {33.6169, 32.7648, 33.3792, 32.82829268880, 18.53178178626, 17.77351797577},
    {33.7459, 33.0423, 33.4188, 31.99255045052, 17.46321685389, 18.60244107464},
    {33.5971, 33.0522, 33.1711, 30.52460649697, 16.66193582975, 19.37215538073},
    {34.0825, 33.3297, 33.6268, 32.26011967987, 15.38997043449, 20.51730382956},
    {34.5780, 33.7260, 33.9638, 33.82727724499, 14.17382785763, 21.97633524009},
    {34.2214, 33.6962, 34.0529, 32.30914457395, 13.79236581034, 23.27554217666},
    {34.7663, 34.2015, 34.7266, 35.02420562631, 12.94267705752, 24.90121388240},
    {34.7364, 34.3105, 34.6969, 33.68982692707, 12.44957714939, 26.41076618060},
    {35.0140, 34.1420, 34.7067, 33.54607663890, 11.48479843659, 28.02367209713},
    {34.9447, 33.5674, 33.8944, 29.63914725184, 15.00604734263, 28.36315463722},
    {34.4194, 33.5674, 33.9142, 27.50510567843, 13.92560030380, 28.67838842445},
    {34.3995, 33.3692, 34.0331, 25.14715449498, 14.38094461191, 28.57542154258},
    {34.1619, 33.2108, 33.6169, 23.17228870071, 14.55948447867, 28.16477690986},
    {33.3396, 32.6560, 32.7154, 21.34819712688, 17.95840308003, 26.76900583037},
    {33.3892, 32.7747, 33.0819, 20.56339494794, 16.95076514366, 25.54479421036},
    {33.5079, 32.9235, 33.0621, 20.55084749418, 16.10664222760, 24.58613706069},
    {33.9638, 33.0820, 33.9240, 22.84425056766, 14.87571918652, 24.33894854217},
    {34.4194, 33.6368, 34.0825, 25.20246371284, 13.88396965871, 24.66885240489},
    {34.7167, 33.8647, 33.9638, 25.90510319912, 12.87741544252, 25.30619505955},
    {33.9440, 33.0027, 33.3396, 23.80826495408, 19.09477166515, 24.28335156866},
    {33.6567, 33.0127, 33.2306, 22.49438496182, 18.04100993592, 23.33356832711},
    {34.5086, 32.8738, 34.4691, 26.37671562168, 15.67602989292, 23.48444680974},
    {34.8653, 34.1124, 34.2312, 27.65871810116, 14.71904802677, 23.98799356514},
    {34.7464, 33.8944, 34.6275, 25.74348374354, 15.47159180689, 24.05475524338},
    {35.1725, 34.4393, 35.0536, 27.69561682438, 14.53859560135, 24.56173839805},
    {36.1633, 35.2816, 36.0543, 33.20755051177, 13.23747420498, 25.87855956599},
    {36.4504, 35.7768, 36.1038, 33.72786652303, 12.50584731345, 27.30877748439},
    {36.0344, 35.5985, 35.9948, 32.28629991808, 13.47949509134, 28.29340642933},
    {36.4504, 36.0048, 36.4011, 34.63819490764, 12.94236606479, 29.52945553025},
    {36.7380, 36.0839, 36.4407, 35.17969127766, 12.19126417164, 30.88653209406},
    {36.6091, 35.7868, 36.3318, 32.61697962246, 13.93514006030, 31.54685252096},
    {36.8270, 36.3318, 36.6091, 33.13060326055, 13.30649373251, 32.34280898060},
    {36.8369, 35.9552, 36.4803, 30.49294065927, 15.64766106187, 32.33075156775},
    {36.8865, 36.4110, 36.4803, 29.60630789955, 14.95611203974, 32.36967459127},
    {36.3802, 35.8659, 36.3119, 27.89107103555, 19.22965220276, 31.37050760493},
    {35.9948, 35.2516, 35.5688, 25.17990465950, 22.99216539988, 29.45415061545},
    {35.8561, 35.1923, 35.2220, 23.63119558636, 22.12747124627, 27.58501175885},
    {35.8759, 35.1230, 35.5578, 21.97989509881, 21.22443365376, 25.73955221414},
    {35.7273, 35.2418, 35.4896, 20.96265533427, 20.24215699615, 24.02591120834},
    {36.0688, 35.6225, 35.8703, 23.09519854668, 19.10611569926, 22.98495387732},
    {35.6025, 34.7394, 34.7990, 20.65742254509, 25.33187847332, 22.06918751291},
    {34.9775, 34.4915, 34.7196, 19.69529777225, 26.52776117657, 21.54863870553},
    {35.5827, 34.9974, 35.3049, 23.81953755409, 24.35802529163, 20.08928699611},
    {36.0688, 34.9974, 35.9993, 25.94368232122, 21.95721055584, 19.24879027467},
    {36.2076, 35.7612, 36.0786, 26.16177704870, 21.02726692148, 18.65107132992},
    {36.4555, 35.8307, 36.1580, 26.97277328608, 19.76547365939, 18.42032055327},
    {36.4359, 35.8207, 36.0885, 25.35915731617, 18.68026930112, 18.18784776893},
    {36.5448, 36.0985, 36.1084, 25.29105493762, 17.82833857900, 18.12493718143},
    {35.8107, 35.2156, 35.3149, 23.07373927757, 24.93527006771, 17.10726033755},
    {35.2552, 34.7593, 35.1263, 21.79325174652, 28.10917467577, 16.78935208098},
    {35.2058, 34.2335, 34.2534, 19.72976356550, 30.56802208125, 17.12926852118},
    {34.5908, 34.0252, 34.4320, 18.62499835057, 30.91855686284, 17.67815206537},
    {34.7296, 34.3725, 34.4915, 19.36746106763, 29.78457866631, 17.92925998053},
    {34.8586, 34.2833, 34.6403, 19.55026395846, 28.00271359317, 17.91822757253},
    {35.3149, 34.2038, 35.3049, 21.93137077845, 24.90390810581, 17.09169639828},
    {35.5034, 35.1165, 35.4338, 22.99876867620, 23.91162948154, 16.00985857462},
    {36.6342, 35.8505, 36.6243, 31.36437406073, 21.10227038751, 16.26338946319},
    {37.1401, 36.4259, 37.0608, 34.12764696877, 19.62491680767, 17.02889997535},
    {37.2691, 36.8722, 37.2592, 34.06226900373, 18.83572330009, 17.86860231489},
    {37.6956, 37.3087, 37.6162, 36.95621596562, 17.97958548358, 19.05965108077},
    {37.8742, 37.3385, 37.8742, 36.75121824530, 16.96047564535, 20.33012211161},
    {38.3801, 37.8245, 38.1917, 39.98443511825, 15.95065309841, 21.94706145606},
    {39.1736, 38.0825, 39.0347, 43.64602533466, 14.16677550840, 24.02161917275},
    {39.0546, 38.4693, 38.7372, 40.99727959469, 13.30703659771, 25.94799419540},
    {39.0944, 38.5586, 39.0347, 39.10227965549, 12.55584554913, 27.76518679230},
    {39.2729, 38.6181, 39.1538, 38.28331919367, 11.68752095839, 29.58357600355},
    {39.1141, 38.6876, 39.0249, 36.35554957538, 11.09899184725, 31.27208027114},
    {39.8581, 39.1935, 39.2530, 41.03296985038, 10.11833662312, 33.35533324797},
    {39.5330, 39.0944, 39.1339, 39.07573037005, 10.71344521508, 35.04172098458},
    {39.7392, 39.3225, 39.7193, 38.74407438138, 10.00422486106, 36.74985479147},
    {39.8680, 39.4513, 39.7193, 38.37755618524, 9.53620413406, 38.42445793468},
    {39.8185, 39.1439, 39.4117, 35.48344667542, 12.25339699639, 39.15576283269},
    {39.6102, 38.9257, 39.0644, 32.78206614561, 13.74737764635, 39.28098766335},
    {39.7491, 39.2729, 39.5605, 31.83494771939, 12.70539674909, 39.54297546243},
    {39.5309, 39.0249, 39.2827, 29.92426609953, 14.72188276297, 39.15067921171},
    {39.1836, 38.7372, 38.9454, 28.07602479313, 17.07006976706, 38.09552582631},
    {39.8978, 38.8860, 39.5506, 32.74474270574, 15.19537260697, 37.98919243416},
    {39.8383, 39.3225, 39.7689, 30.88272912714, 14.33129526850, 37.89045428431},
    {39.6399, 38.9653, 39.3126, 28.19290229609, 16.95457486355, 36.96202766206},
    {38.6975, 38.1520, 38.1717, 24.82932860528, 23.29224206343, 34.55003809149},
    {38.7968, 38.3007, 38.7174, 24.25046148050, 21.78471648748, 32.46476530607},
    {39.0844, 38.2312, 38.9852, 25.07207572580, 19.89226935226, 30.96869695123},
    {39.5209, 38.8860, 39.4415, 27.91493112296, 18.59757479607, 30.18749988005},
    {40.0368, 39.4217, 39.9671, 31.47316269457, 17.41499251851, 30.08523414758},
    {40.2450, 39.7788, 39.9276, 32.12376676979, 16.55571355172, 30.22062671596},
    {40.4335, 39.9276, 40.0468, 32.40380263437, 15.65312654170, 30.55171780097},
    {40.2757, 39.7589, 39.9771, 30.57029264504, 16.61447818680, 30.48209128449},
    {40.1458, 39.3522, 40.0763, 27.95450245574, 19.57789980003, 29.56357986618},
    {40.7509, 39.8383, 40.1161, 31.62898939791, 17.70208006846, 29.46843252826},
    {39.8780, 39.4713, 39.7093, 29.47978113768, 20.36674812967, 28.66941460568},
    {40.2649, 38.8464, 38.9653, 25.39206928316, 23.65120040130, 26.87514635478},
    {39.1538, 38.7272, 38.9356, 24.30074984995, 23.83560784781, 25.02451452834},
    {39.2532, 38.7075, 39.1935, 23.96058050393, 22.50326175608, 23.46108189614},
    {40.0566, 39.2035, 40.0368, 29.96961428209, 20.54698304242, 23.11761500203},
    {40.4534, 40.1359, 40.4137, 32.79187939319, 19.65863832807, 23.25487802298},
    {40.9593, 40.2649, 40.7609, 35.67713579708, 18.24284107677, 23.90336148629},
    {41.1973, 40.6717, 41.1478, 36.20970396909, 17.23127254326, 24.73261301803},
    {41.2867, 40.8898, 41.1874, 35.61922104221, 16.48778191799, 25.58854619016},
    {41.3759, 40.8799, 41.3461, 34.65135878899, 15.58290043334, 26.47215513801},
    {41.6140, 41.2371, 41.4750, 35.87726560742, 14.91312786940, 27.52955785125},
    {42.1397, 41.5049, 42.0802, 39.13847217773, 13.78761029179, 28.98449069493},
    {42.3183, 41.8719, 42.0703, 39.18352774560, 13.07397802019, 30.48297370417},
    {42.3193, 41.9122, 42.1406, 37.29994066081, 12.44153549433, 31.87527600965},
    {42.3988, 41.8625, 42.2696, 35.85649708878, 11.64252605422, 33.23974411649},
    {42.5279, 42.1404, 42.3492, 35.73559175615, 11.08841599852, 34.62532689007},
    {42.8655, 42.0781, 42.1505, 36.40904727673, 10.04249512649, 36.20647594742},
    {42.3888, 41.4752, 41.7732, 32.57024528090, 15.94151922799, 36.06870755466},
    {41.7931, 41.2867, 41.4059, 30.64173466372, 17.20164484761, 35.49893192679},
    {42.3591, 41.5944, 42.1107, 33.72132032400, 15.35825231756, 35.63578605888},
    {42.3194, 41.7335, 41.9221, 31.48768280466, 14.34095025826, 35.76286489583},
    {42.3019, 41.3065, 41.9519, 28.08416195075, 17.42762471326, 34.88086707398},
    {41.8328, 40.7107, 40.7107, 24.52444321621, 21.30297411395, 32.89148851234},
    {40.9590, 40.4327, 40.5916, 23.18262666870, 23.02746558540, 30.56608027231},
    {41.1079, 40.5419, 40.9192, 23.36883538464, 21.65524231667, 28.65464226606},
    {41.8427, 40.9298, 41.6440, 28.69552030585, 19.60266764244, 27.95263126260},
    {41.7832, 41.4752, 41.7633, 27.75078595638, 18.95729466207, 27.30076390224},
    {42.3193, 41.8427, 41.9420, 31.88153491951, 17.81694608104, 27.37212622668},
    {42.2498, 41.7633, 42.1803, 30.17132885994, 17.73668139614, 27.27092132340},
    {42.5676, 41.9817, 42.2696, 31.73700085418, 16.58297077470, 27.56312948827},
    {42.4485, 42.0711, 42.2795, 30.36679274747, 15.86702029491, 27.83446564136},
    {42.9876, 42.5476, 42.8555, 34.03895558185, 14.59390011921, 28.70224464546},
    {42.8158, 42.5676, 42.7561, 32.88367846708, 14.09858530902, 29.50803943498},
    {42.6867, 42.1803, 42.4781, 30.64359434457, 17.72021856491, 29.30897720157},
    {42.9647, 42.2895, 42.9052, 31.47764507416, 16.31657037589, 29.48130513730},
    {43.1533, 42.6370, 42.9151, 31.78697445419, 15.31742359622, 29.87292151686},
    {43.5109, 42.7561, 42.8356, 33.15780397237, 13.97054567486, 30.64719666629},
    {43.1832, 42.4881, 43.0044, 30.49820097654, 15.94252468548, 30.69685993668},
    {43.4215, 42.7165, 42.8257, 30.76428648735, 14.65829957110, 31.03694865873},
    {43.4513, 42.4881, 42.6867, 27.50442819483, 15.61771777477, 30.78896738013},
    {42.8059, 41.8825, 42.0413, 24.79220678576, 20.54488220442, 29.25892129720},
    {42.0214, 41.0086, 41.0980, 22.16031819507, 27.34726288761, 27.91736060095},
    {41.8925, 41.2470, 41.7931, 20.36879641966, 25.13640939128, 26.67162566871},
    {41.8526, 40.6313, 40.6711, 17.96456658566, 28.11998874684, 26.34054512823},
    {41.2767, 40.3532, 40.8399, 16.38924644266, 28.29481791152, 26.36221238166},
    {41.0285, 40.5519, 40.9689, 15.62761208605, 26.97991270763, 26.38233197413},
    {41.5747, 40.9888, 41.0384, 20.08539659303, 25.36628157605, 25.32778539542},
    {42.1009, 41.4852, 42.0512, 23.07348720407, 22.79160337727, 23.56255739687},
    {42.3492, 41.7832, 42.2995, 24.21777097953, 21.53749924814, 22.29793491454},
    {43.2129, 42.5775, 43.2030, 30.35727468968, 19.65766361476, 22.23328461332},
    {43.4627, 43.0938, 43.3122, 31.72359843422, 18.93869970319, 22.44773061168},
    {43.8286, 43.3024, 43.5903, 33.73500900184, 17.93127359577, 23.02918573649},
    {43.8484, 43.2428, 43.3421, 31.64842960454, 17.43090326427, 23.45341952949},
    {43.8286, 43.3221, 43.6995, 29.97833942024, 16.51107309232, 23.84735090870},
    {44.3350, 43.8088, 44.1464, 33.28670331430, 15.41213943137, 24.76570361512},
    {44.2854, 43.9378, 44.2854, 32.03092062033, 14.83069711213, 25.61845969965},
    {44.1761, 43.7392, 44.0401, 30.10874537914, 16.12268883112, 25.94944587866},
    {43.7690, 43.0442, 43.3520, 26.93488770969, 21.77952043582, 24.85183108548},
    {43.2428, 42.9747, 43.1336, 25.82423566469, 21.64100625938, 23.70621799602},
    {44.0868, 43.5506, 43.8286, 32.15083190484, 19.45805431856, 23.76964319084},
    {43.8384, 43.4215, 43.6796, 30.69257963841, 19.98004542691, 23.58185964045},
    {43.9080, 43.6995, 43.8683, 30.68685299981, 19.45931041453, 23.49670068490},
    {43.5208, 42.5973, 43.2030, 26.54134820489, 28.54547699493, 22.07823115270},
    {43.3122, 42.8059, 43.2528, 25.08746693325, 26.98181360930, 20.76108087281},
    {43.9876, 43.5704, 43.6995, 30.35781005268, 24.85393420795, 19.99019428592},
    {44.1761, 43.6697, 43.7591, 30.73744676672, 23.47964949730, 19.51850521989},
    {44.1861, 43.5704, 43.5803, 28.66228249045, 22.98331963359, 18.90975656857},
    {44.4144, 43.3520, 43.8088, 27.86268186426, 20.42135652287, 18.65988565063},
    {43.9776, 43.5109, 43.6002, 26.46696086519, 19.39839267942, 18.42786265540},
    {43.6896, 43.0540, 43.3341, 24.65553370428, 22.99062090971, 17.36118158954},
    {43.8088, 43.0143, 43.7690, 23.84125887663, 21.05113342950, 16.56503582790},
    {44.2257, 43.9279, 43.9876, 27.18855475220, 20.00635077788, 16.46883158289},
    {44.2754, 43.6400, 43.8188, 25.30669690426, 21.75774758099, 15.83110194273},
    {44.2854, 43.8782, 44.2357, 24.10458906129, 20.62859520426, 15.25534494432},
    {44.3549, 43.8584, 43.9876, 23.53728698002, 19.47067450551, 14.84106942126},
    {44.3846, 43.9776, 44.0469, 22.77054291535, 18.55139903773, 14.51030875731},
    {43.8981, 43.4513, 43.5109, 21.19360541384, 23.38620566658, 13.82517030645},
    {44.2446, 43.7671, 44.2246, 23.38407844109, 21.41842312542, 13.15104231940},
    {44.8911, 44.4335, 44.7220, 28.98290418544, 19.78943800505, 13.55809310356},
    {45.0502, 44.7916, 44.9905, 29.73864604243, 19.02222824646, 14.15947881959},
    {45.3287, 44.9707, 45.3188, 31.83181278912, 18.19365711808, 15.09540346918},
    {45.7366, 45.3586, 45.7366, 35.24695034688, 17.24935418243, 16.46598527621},
    {46.0548, 45.6968, 45.9753, 37.69842285062, 16.46095591647, 18.09076541337},
    {46.0052, 45.7466, 45.7863, 36.40406926823, 15.89577849924, 19.59948982645},
    {46.0151, 45.7167, 45.9256, 34.91440179305, 15.65534393938, 20.91982270084},
    {46.0301, 45.5078, 45.5078, 32.41417039484, 17.39839827820, 21.57873142751},
    {46.2389, 46.0251, 46.1743, 32.03862570431, 15.70325390070, 22.48139500613},
    {46.2538, 45.9157, 46.1743, 30.55594962559, 16.47396554942, 23.01433893304},
    {46.3036, 45.8262, 45.8957, 28.54706155077, 16.62343033618, 23.25595386005},
    {46.0251, 45.6769, 45.9256, 27.14526472530, 17.91263801358, 23.05842733088},
    {46.3036, 45.6868, 46.3036, 28.68760518535, 16.37839135363, 23.36237898213},
    {46.3931, 45.8759, 46.1146, 27.87039841919, 15.20254451663, 23.79436872484},
    {45.8957, 45.2890, 45.5376, 24.80859356818, 21.34201258584, 22.63130329919},
    {46.2439, 45.3685, 46.1046, 26.47691925386, 18.96316462306, 22.19589028079},
    {46.2737, 45.9753, 46.1444, 25.82870110340, 18.21774158349, 21.84471216071},
    {46.3036, 45.4083, 45.6073, 22.91784805320, 23.30190245776, 20.34372781828},
    {46.3931, 45.7068, 46.3434, 21.80804488275, 21.05865834425, 19.01547430371},
    {46.3572, 45.1896, 45.6769, 18.89702402473, 24.16046607962, 18.53038466713},
    {46.1046, 45.0602, 45.2492, 16.74401588164, 22.81940050148, 18.30364767151},
    {45.2392, 43.8069, 43.9263, 14.31793121684, 32.10361803683, 19.73291769039},
    {44.3639, 43.8865, 44.0755, 13.61474964664, 30.52694664497, 21.06009699364},
    {44.6524, 43.8169, 44.1152, 15.38672319058, 27.94068216062, 21.62542137015},
    {44.6126, 43.7771, 44.4635, 14.10024911951, 26.00286238651, 22.20075015565},
    {44.1949, 43.0908, 43.3194, 12.28315037586, 29.09490349416, 23.51709922170},
    {43.7869, 42.4044, 42.5635, 10.77683117660, 31.61553621500, 25.34850200299},
    {43.0515, 42.6530, 43.0310, 10.29682171133, 30.20735264190, 27.04909029990},
    {43.5483, 42.8022, 43.4189, 14.14284155447, 28.14341125337, 27.48194340097},
    {43.7372, 43.1901, 43.6576, 15.18640830070, 26.70264560704, 27.48267854362},
    {43.4289, 42.3944, 42.3944, 13.47156393873, 30.80029429662, 28.31546134121},
    {42.7923, 41.8969, 42.7524, 12.40248900947, 32.76531205033, 29.51311472883},
    {42.9514, 42.4143, 42.4442, 13.24218676903, 31.16753797099, 30.28814738808},
    {43.2797, 42.5337, 42.8818, 15.20966003632, 28.81370243607, 30.33198474329},
    {43.0808, 42.5237, 42.7923, 14.42725999688, 27.42383401844, 30.38358035132},
    {43.5582, 42.5337, 43.4388, 17.40170320635, 24.88830722831, 29.47782519882},
    {43.6478, 42.9315, 43.5283, 17.08324448428, 23.26845551043, 28.46714153427},
    {44.1152, 43.6179, 44.0854, 20.48065586988, 22.00473815935, 26.69001062648},
    {44.3341, 44.0257, 44.3341, 21.98639609654, 21.34861254865, 24.88870638802},
    {44.6921, 44.2146, 44.6126, 24.49605450636, 20.33747218624, 23.77348509555},
    {44.8115, 44.3838, 44.5927, 24.64550827027, 19.44891041416, 22.91717617037},
    {44.7916, 44.3241, 44.5032, 23.43998649761, 19.12221772164, 22.00484987278},
    {44.5032, 43.7174, 43.9263, 21.53336585327, 23.84694053937, 20.79723138027},
    {44.5529, 44.0854, 44.3739, 20.64531236465, 22.28997310860, 19.58532609414},
    {44.4635, 43.5980, 44.3639, 18.81773575962, 25.30189205934, 19.23614288043},
    {44.6225, 44.1649, 44.5230, 19.58207106263, 24.08779127934, 18.59911040046},
    {45.2492, 44.7121, 45.1696, 24.63867806808, 22.26211771724, 17.63254586328},
    {45.6073, 45.2094, 45.3089, 27.31959448325, 21.21826093231, 17.27095385797},
    {45.5775, 45.1896, 45.3586, 26.14938441736, 20.52803866344, 16.89752608690},
    {45.5675, 45.1596, 45.5078, 24.93962739794, 19.91859846921, 16.49006753437},
    {46.2937, 45.7466, 46.1942, 30.84843121709, 18.17403670858, 17.15893816143},
    {46.3931, 46.1942, 46.2837, 31.29436278914, 17.75031014077, 17.90585305736},
    {46.8009, 46.1543, 46.5423, 33.69217543842, 16.41078961502, 19.09055946498},
    {47.0298, 46.5523, 46.9203, 34.45783952529, 15.46331078561, 20.44473811830},
    {47.0993, 46.7313, 47.0993, 33.75973298285, 14.77007553953, 21.77939134597},
    {47.2784, 46.8507, 47.1093, 34.19090940207, 13.98533320210, 23.21950303090},
    {47.1292, 46.6617, 46.9899, 32.17840896841, 15.54175541769, 24.05117729065},
    {47.3579, 46.9800, 47.2884, 33.55977008481, 14.78421873157, 25.10733650487},
    {47.6464, 47.2784, 47.4177, 35.74021287102, 14.06525525636, 26.42247195354},
    {47.6265, 47.3480, 47.5768, 34.37767973103, 13.52904198650, 27.64366915588},
    {47.7476, 47.1203, 47.2896, 31.46770154675, 15.45640878576, 28.10638391028},
    {47.9069, 47.0505, 47.7177, 30.04366300768, 13.74573502456, 28.75727721836},
    {48.0961, 47.5683, 48.0488, 30.44078354448, 12.80510436188, 29.61604413794},
    {47.9667, 47.7078, 47.8173, 29.05729361483, 12.22313074393, 30.41347056325},
    {48.3949, 47.6978, 47.7476, 32.00140778461, 11.11136572555, 31.70210942913},
    {48.1260, 47.5385, 47.7974, 29.56107921437, 12.33174536014, 32.37532815620},
    {48.1956, 47.8969, 48.0264, 28.92401003103, 11.68153029411, 33.09590238155},
    {48.3451, 47.8571, 48.1858, 29.03534433377, 10.92152107938, 33.97001250576},
    {48.2454, 47.8671, 47.9567, 27.53953276186, 10.35887792883, 34.78168619253},
    {48.4944, 47.5883, 47.9567, 24.30921454200, 12.75296119903, 34.52447434077},
    {48.5143, 47.9367, 48.4048, 22.75437309509, 11.80257272253, 34.32215745358},
    {48.6936, 48.1858, 48.5442, 23.58182057509, 11.02470241455, 34.46238965593},
    {48.6637, 48.1658, 48.4247, 22.04747402207, 10.56873922209, 34.51460038994},
    {48.6139, 48.0363, 48.5343, 20.39004811283, 11.45968861192, 34.05206015593},
    {48.8429, 48.4297, 48.8230, 22.30781330521, 10.83233121029, 34.09313682583},
    {48.9923, 48.7334, 48.8629, 23.56883338997, 10.44643823653, 34.41348076531},
    {49.1416, 48.6538, 49.1118, 24.04326903367, 9.74223506953, 34.97886821667},
    {49.7093, 49.2910, 49.6993, 29.83867775870, 8.94667632180, 36.32792743897},
    {49.9781, 49.6594, 49.9184, 32.28077109774, 8.54581339444, 37.88564945198},
    {49.9084, 48.9923, 49.3209, 28.31112492509, 16.35302127447, 37.09191624992},
    {49.4503, 48.6936, 49.2910, 25.54676640179, 18.61060599365, 35.56448077689},
    {49.6694, 49.2213, 49.5400, 26.91543666548, 17.51967050591, 34.53451187610},
    {49.9781, 49.5151, 49.8188, 29.34997279650, 16.44688489877, 34.08023345918},
    {50.1474, 49.0520, 50.0976, 25.38894343937, 19.93285159515, 32.50582826819},
    {50.3565, 49.8785, 50.3067, 26.48367713897, 18.74406478418, 31.40630719229},
    {50.4362, 50.0876, 50.1972, 26.32166688374, 17.90537355676, 30.52226708579},
    {50.2171, 49.0023, 49.1318, 22.53723240313, 28.17595945361, 29.13630918981},
    {49.4205, 48.7732, 49.1616, 20.81954422314, 28.72602344711, 28.19500103519},
    {50.1176, 49.4005, 50.0180, 26.45225497380, 25.62028633458, 26.29519459296},
    {50.0778, 48.9923, 49.0296, 23.36349845694, 27.01968366873, 24.93530620992},
    {49.9582, 49.2213, 49.7192, 21.09431345429, 24.39539086128, 23.67255271138},
    {49.1118, 47.8770, 48.2256, 17.46936434021, 32.74312249834, 24.15438800160},
    {48.2952, 47.4389, 47.9767, 16.08564254310, 34.20205188425, 25.00232684345},
    {48.1161, 41.3746, 46.3734, 9.62311298237, 56.60112667315, 28.28343153096},
    {46.6025, 44.0964, 45.2183, 8.28979308364, 48.75881944656, 31.33017159794},
    {47.5982, 47.1103, 47.5683, 12.45350280537, 42.70728225074, 33.00991186209},
    {48.1858, 47.0007, 47.5185, 14.77047319212, 40.04219533273, 33.94531977892},
    {48.4545, 47.6978, 48.4147, 15.47292611823, 38.02395772443, 34.53164809759},
    {48.5840, 47.5286, 47.6480, 14.58053778865, 36.75558014812, 35.15051546835},
    {47.3194, 46.1842, 46.7319, 13.42411551681, 41.12472559769, 36.26700000286},
    {47.0705, 45.8756, 46.8812, 12.54914853251, 40.12760184446, 37.41608057318},
    {47.3791, 46.0249, 46.2340, 13.30365962734, 37.17066374521, 38.12103456664},
    {46.4332, 45.3577, 45.8656, 12.51491020546, 38.64489917802, 39.04633405370},
    {45.0889, 44.0632, 44.1628, 11.30522445320, 41.85167744944, 40.36193145851},
    {45.4474, 43.3065, 44.6507, 10.06121126911, 41.13568487685, 41.81436569631},
    {45.1337, 44.4516, 44.4714, 9.69516389177, 39.63908479944, 43.16305463141},
    {44.5710, 43.0476, 44.5113, 8.91504440433, 43.86535262643, 44.80986146848},
    {45.3776, 43.9338, 44.0134, 12.47836091107, 40.53624909556, 45.38950153399},
    {45.6963, 44.8996, 45.6763, 13.04018400533, 37.01038746673, 45.56824910848},
    {45.7958, 45.0092, 45.4075, 13.02379116481, 35.45794476945, 45.61861791459},
    {46.0547, 44.9394, 44.9892, 13.63714880867, 33.32359201380, 45.35450707128},
    {46.0847, 44.9394, 46.0547, 12.94949603731, 31.24376037659, 45.07176043139},
    {46.5725, 45.8854, 46.4929, 15.19935113123, 30.03272593225, 44.19477240309},
    {46.0945, 44.7478, 44.9021, 13.74241258469, 33.40256883609, 44.01668027845},
    {45.2681, 44.0334, 44.0831, 12.80702770042, 35.06729158646, 44.19386710664},
    {44.2923, 43.4060, 44.0034, 12.16683745157, 36.85291116623, 44.63426558156},
    {44.7205, 43.5056, 43.6350, 13.75282464688, 34.32036663396, 44.50209005933},
    {44.9296, 44.0532, 44.8798, 13.92817567417, 31.81165197776, 44.11610212997},
    {45.3478, 44.4216, 45.3079, 15.59292009846, 30.11557941367, 43.23440474767},
    {46.0448, 45.2183, 45.2980, 18.94320035279, 28.64776317251, 41.60277642269},
    {46.5725, 45.2613, 46.5128, 20.58070432056, 26.44562265156, 39.52197551498},
    {46.9410, 46.3037, 46.7020, 22.02118562995, 25.42271619220, 37.21109043209},
    {46.9809, 46.4431, 46.8514, 21.52533116911, 24.55941622093, 35.02342023530},
    {47.2298, 46.7509, 46.8906, 22.48559176786, 23.78486664489, 32.72231885241},
    {47.5690, 46.2221, 46.4915, 20.52499022779, 25.13424620687, 31.10607491778},
    {47.0303, 46.0426, 46.1324, 19.20271449692, 24.68581821291, 29.77658735907},
    {46.3618, 45.5836, 45.9428, 18.20744883140, 26.46338344740, 28.96981055510},
    {45.8829, 45.0948, 45.2444, 17.16351733846, 28.25099399678, 28.64439203339},
    {45.5537, 44.8454, 45.1646, 16.32174331828, 28.59234652933, 28.54980434941},
    {45.4440, 44.7057, 45.0050, 15.47005369510, 28.08772741332, 28.57965180199},
    {44.3565, 42.9697, 43.2690, 13.39496508881, 35.76121262045, 29.78827522733},
    {43.5683, 42.5407, 42.6106, 12.48443546538, 36.16815137029, 31.13763079252},
    {42.8600, 41.6728, 42.4909, 11.51091142284, 39.04843381253, 32.80392442999},
    {42.7218, 41.9920, 42.3711, 10.94585462615, 37.13159316323, 34.35119709334},
    {43.2690, 42.1516, 42.5008, 13.79318938665, 34.35115508462, 34.94758920833},
    {43.9075, 42.6006, 43.8577, 16.70522924593, 31.18526000873, 34.61102660374},
    {44.2767, 43.5783, 44.0971, 18.40332602898, 29.72071779942, 33.81860509450},
    {44.5261, 43.9774, 44.5161, 19.43705270034, 28.58491020371, 32.76365617695},
    {44.9252, 44.3565, 44.6458, 21.51288650165, 27.41548006806, 31.28509112073},
    {45.3941, 44.6957, 45.2245, 23.76765270260, 25.91324972593, 29.35892433629},
    {45.7034, 45.1347, 45.4539, 25.08190551231, 24.80100067202, 27.30208177354},
    {45.6335, 44.8853, 45.4938, 23.64403144250, 25.29013495580, 25.59221268175},
    {45.5219, 44.1969, 44.2368, 21.31377576597, 27.91808331468, 24.72239054301},
    {44.7057, 43.9973, 44.6159, 20.16926601288, 27.93194217410, 24.10923511239},
    {45.1546, 43.7579, 45.1546, 21.39444367131, 25.07318141274, 22.95263088255},
    {45.6535, 44.4563, 44.5361, 23.14485071081, 22.90882968086, 21.34976375782},
    {45.8730, 45.1347, 45.6635, 22.51227041395, 20.75434087947, 20.11499609302},
    {45.9927, 45.2744, 45.9528, 22.21046823433, 19.68324192698, 19.10910151019},
    {46.3518, 45.8031, 46.3319, 23.97128293704, 18.88161275601, 18.59252812468},
    {46.6112, 46.1024, 46.3119, 25.02690420238, 18.14370890395, 18.40335958043},
    {46.4716, 45.7732, 45.9428, 23.66006199612, 19.72713738842, 17.73631331458},
    {46.3020, 45.1447, 45.6036, 21.55887920826, 22.79811565094, 16.66898944065},
    {45.9827, 44.9651, 45.7034, 19.88654482736, 22.39872463903, 15.90270649966},
    {46.6811, 46.1025, 46.5614, 23.71637443605, 20.73452923321, 15.24595437753},
    {46.5913, 46.1423, 46.3618, 22.87578777134, 19.99962901398, 14.63611312127},
    {46.8806, 46.3918, 46.8287, 24.26497250008, 19.15483482345, 14.43132928823},
    {46.8108, 46.4117, 46.7210, 23.40905171868, 18.47916864704, 14.24117287184},
    {46.7409, 45.9428, 46.6511, 21.82246602891, 21.20872625287, 13.32582246584},
    {47.0801, 46.6811, 46.9704, 23.98363901854, 20.40803414353, 12.94931191241},
    {46.8407, 46.1723, 46.5639, 22.29714457779, 23.45587695382, 12.20525971153},
    {45.8131, 45.1048, 45.2943, 19.58558685408, 29.50058678083, 12.77625334253},
    {45.1347, 44.3465, 44.9352, 18.05003664175, 33.46034075666, 14.00058469459},
    {44.9551, 44.6059, 44.6159, 17.50547925623, 32.45086492884, 15.13746380723},
    {45.0050, 44.1969, 44.6957, 16.28133884618, 33.72089300278, 16.54747006990},
    {45.6734, 44.9252, 45.2664, 20.63054601506, 30.90502958955, 16.78955660160},
    {45.7133, 45.0050, 45.4440, 19.71324340725, 29.01474339773, 16.95377537995},
    {45.3542, 44.4563, 44.7556, 18.05485973812, 31.24730946248, 17.65410253434},
    {44.9252, 44.4363, 44.8154, 17.27995348746, 30.08176529631, 18.32380032988},
    {45.2345, 44.3565, 44.3765, 18.65556277080, 27.77615288592, 18.41803014053},
    {44.0173, 43.3638, 43.5484, 17.03387440558, 33.88274272971, 19.46610650734},
    {44.1570, 43.1693, 43.9674, 15.60874001527, 32.69549608853, 20.60232777095},
    {44.2168, 43.3987, 43.4386, 15.03239592517, 30.42491130721, 21.54940981926},
    {44.0572, 42.8700, 43.9674, 13.56065111603, 31.80619676853, 22.88286586775},
    {44.1470, 43.4985, 43.5085, 13.57626342363, 30.07411670272, 23.94804974231},
    {43.7479, 43.0795, 43.3588, 12.80240934560, 31.93306880169, 25.29204292904},
    {44.8055, 43.9674, 44.6558, 19.87468126517, 28.18792383940, 24.72094670193},
    {45.1746, 44.6259, 45.1546, 22.04121616939, 26.89934543125, 23.66420699123},
    {45.9129, 45.4440, 45.9029, 26.83932948417, 25.18580492599, 22.20092925374},
    {45.9228, 45.5188, 45.5936, 25.97936842126, 24.29774233192, 20.85405681051},
    {46.3419, 45.7133, 46.1423, 27.95255307422, 22.70107915720, 20.10501119972},
    {46.5913, 46.2122, 46.3219, 29.07649248338, 21.77640473313, 19.69431779488},
    {46.5614, 46.1423, 46.4915, 27.93279101740, 21.57588638696, 19.20472228910},
    {47.2597, 46.8307, 47.1400, 32.46966156538, 20.02133520981, 19.52689674942},
    {47.5890, 46.9704, 47.3395, 33.69071427209, 18.84392437940, 20.15075795840},
    {47.6887, 47.0801, 47.6388, 32.67549536351, 17.73866876582, 20.82772054418},
    {47.8683, 47.4293, 47.8284, 33.03438203625, 16.96566855820, 21.63555439364},
    {48.1400, 47.7500, 47.9950, 34.50049828746, 16.28665979211, 22.65180613315},
    {48.9300, 48.1101, 48.8299, 39.18243733293, 14.76133691890, 24.26749122363},
    {49.1700, 48.6100, 48.8200, 39.39177173656, 13.92043806579, 25.94678997585},
    {49.0210, 48.4200, 48.6900, 36.95843207903, 15.01341731897, 27.10950570537},
    {49.1600, 48.3200, 48.6700, 35.22209097372, 13.73623087951, 28.30782832627},
    {49.6900, 49.1500, 49.6600, 36.89777474367, 12.36111881565, 29.84381388839},
    {49.7500, 49.3500, 49.3900, 36.00953254301, 11.85971319303, 31.31565222501},
    {49.5400, 48.5900, 49.3700, 32.62477728364, 18.26463371981, 31.09441515227},
    {49.5300, 49.1100, 49.2900, 31.22726970787, 17.48225400362, 30.88898072758},
    {49.8400, 48.7500, 49.0700, 27.88845058154, 19.14435388363, 30.01058816204},
    {49.5300, 48.7810, 49.0100, 25.84364226706, 17.74067124153, 29.19493792262},
    {49.0500, 48.2000, 48.4800, 23.71827895374, 21.90298940907, 27.39380251767},
    {49.7600, 49.0000, 49.6600, 27.45451232535, 19.32555741290, 26.67831390476},
    {49.7100, 48.9100, 49.2300, 25.43958861620, 18.73288135648, 25.85722023937},
    {49.5400, 49.0000, 49.4100, 24.15112912358, 17.78410190993, 25.09477612151},
    {49.8700, 49.0800, 49.7500, 25.45330089783, 16.46987878945, 24.83288452621},
    {50.0200, 49.6200, 49.7700, 25.91992391878, 15.83192605815, 24.78494980991},
    {50.2100, 49.2600, 50.1100, 23.58348526360, 17.82068204830, 24.00876864536},
    {50.7500, 50.2800, 50.5200, 27.31506708851, 16.72679035095, 24.01109907092},
    {50.6400, 50.1700, 50.4200, 26.05042568540, 17.03594568413, 23.79044074605},
    {51.5000, 50.6300, 51.4900, 31.55804761272, 15.28475229014, 24.57256838185},
    {51.7200, 51.3000, 51.3000, 32.41748464687, 14.65389495673, 25.51292486066},
    {51.3000, 50.4200, 50.8200, 29.65564656655, 21.92503661016, 24.76110257666},
    {51.5700, 50.8700, 51.1900, 30.11576750628, 20.33493471018, 24.37723175804},
    {51.7101, 50.7900, 51.2900, 28.81387463706, 18.55686909277, 24.18261639321},
    {51.6900, 51.2100, 51.6400, 27.46469235158, 17.68796134019, 24.00190212587},
    {52.2300, 51.8500, 51.8900, 31.20355258221, 16.65561572387, 24.45872251184},
    {52.1500, 51.4200, 52.0300, 28.95200314721, 19.70413310795, 24.06928413931},
    {52.2300, 51.6600, 52.1900, 28.09868580850, 18.57696452497, 23.80717536970},
    {52.4500, 51.8400, 52.3000, 28.59144185718, 17.42796987619, 23.83939002461},
    {52.4900, 52.1698, 52.1800, 28.04756588356, 16.83920615165, 23.92016900533},
    {52.7500, 51.9800, 52.2200, 28.50763040086, 15.48449883016, 24.32610848868},
    {52.9300, 52.5750, 52.7800, 28.27419405424, 14.33899905757, 24.92435772109},
    {53.0400, 52.3600, 53.0200, 26.26977100508, 15.56392240094, 24.97200714790},
    {53.8614, 53.5000, 53.6700, 32.42846577671, 14.22055733655, 25.97627118116},
    {53.8100, 53.5100, 53.6700, 31.38819878612, 13.76437860497, 26.90880206918},
    {53.8300, 53.4499, 53.7375, 30.07194035754, 13.85022965915, 27.62480574153},
    {54.0401, 53.2100, 53.4500, 27.37231483701, 15.20129318700, 27.69361851667},
    {53.7700, 53.1000, 53.7150, 25.39101075068, 15.28935620851, 27.48920065727},
    {53.4800, 52.6600, 53.3850, 22.61512867801, 18.17738362654, 26.30274508241},
    {53.3672, 52.1100, 52.5100, 19.79812455037, 21.28645549650, 24.68273488443},
    {52.8800, 52.2900, 52.3150, 18.64098989291, 20.04233283595, 23.17843970060},
    {52.2462, 50.8500, 51.4500, 16.12138473760, 30.61913610795, 23.73837415578},
    {51.8700, 51.3500, 51.6000, 15.32936139284, 29.11485648257, 24.25831329273},
    {52.7900, 52.1300, 52.4300, 22.02343948886, 25.97041943245, 23.11299998929},
    {52.5900, 52.1400, 52.4700, 21.09560508159, 24.87630110762, 22.04949477896},
    {52.9100, 52.1700, 52.9100, 22.63328627413, 23.14917245968, 20.55501805335},
    {52.4500, 51.7700, 52.0700, 20.29554031172, 24.38228060539, 19.74016921575},
    {53.2500, 52.5600, 53.1200, 25.19995350242, 21.86484723014, 18.83631432683},
    {53.1300, 52.6700, 52.7700, 24.15302805992, 20.95647790083, 17.99702050140},
    {52.9000, 52.1000, 52.7300, 22.40936560776, 24.58728252929, 17.04253305729},
    {52.7355, 51.8800, 52.0850, 20.68927687320, 24.67391674447, 16.45262791014},
    {53.4600, 52.8400, 53.1900, 24.44233421434, 21.78023233042, 15.68881964045},
    {53.8100, 53.2100, 53.7300, 26.16701436730, 20.60669965597, 15.41731047003},
    {53.9400, 53.5000, 53.8700, 26.30063363296, 19.79169275022, 15.32475459584},
    {53.9500, 53.6800, 53.8450, 25.72507060172, 19.28758149668, 15.25166572215},
    {54.5200, 53.8200, 53.8800, 29.42342666583, 18.00700948717, 15.88153336852},
    {54.1500, 53.6899, 54.0800, 28.10269939532, 18.46797365915, 16.22488077217},
    {54.4400, 53.9500, 54.1350, 29.62444321447, 17.56377018403, 16.89157898689},
    {54.5500, 54.0900, 54.4950, 29.35507023311, 16.73539091502, 17.64076912723},
    {54.7400, 54.2700, 54.3000, 29.90124169171, 15.90973493706, 18.56227287520},
    {54.6200, 54.2300, 54.3950, 28.63863798366, 15.67101880687, 19.32681756185},
    {54.7000, 54.0300, 54.1600, 26.56345110070, 16.69849729412, 19.57510503294},
    {54.6600, 54.0600, 54.5800, 24.82839085735, 15.60779192346, 19.80565768467},
    {54.6800, 54.4100, 54.5200, 24.29386846794, 15.12890310204, 20.05153192814},
    {54.7600, 54.1600, 54.5600, 22.63202962587, 16.94423713711, 19.64583148098},
    {54.8900, 54.6200, 54.8900, 23.28472995322, 16.28443707381, 19.50622079575},
    {54.9600, 54.7900, 54.8850, 23.66306843542, 15.94008660888, 19.50584257219},
    {54.8700, 54.6100, 54.7420, 22.82233848071, 17.69929585330, 19.01562056413},
    {54.8600, 54.2100, 54.7700, 20.92951556940, 21.33519746309, 17.72592335042},
    {54.9200, 54.5500, 54.6700, 20.70147585873, 20.30295404037, 16.52920735573},
    {54.9000, 54.7300, 54.7900, 20.05201312954, 19.66599404623, 15.41797107496},
    {54.8000, 54.5500, 54.6600, 19.34170854857, 21.51982707182, 14.69743644206},
    {54.6200, 54.2100, 54.4600, 18.09892203174, 24.99185099455, 14.79021235035},
    {55.6900, 54.9500, 55.3100, 29.05667385621, 21.01677793944, 14.88064037477},
    {55.5500, 54.9200, 55.2650, 26.71303819205, 19.70570218852, 14.89601750481},
    {55.7600, 55.0700, 55.7400, 27.03634627499, 17.99386706917, 15.26636737980},
    {55.9600, 55.6800, 55.9200, 28.65998188886, 17.33574544306, 15.93449771989},
    {56.0500, 55.3200, 55.8700, 25.99095246567, 20.31389645814, 15.67204617355},
    {56.1800, 55.5800, 56.0800, 25.66164263568, 18.76692058747, 15.66109072227},
    {56.3600, 55.9500, 56.1600, 26.62963185313, 17.77101139654, 15.96755272960},
    {56.5600, 56.2000, 56.5550, 27.86384381820, 16.83250692973, 16.58991474245},
    {56.7300, 56.4100, 56.5750, 28.96317513759, 16.09997901539, 17.44383652800},
    {57.0200, 56.4600, 57.0000, 30.69310471067, 14.87961393488, 18.67638161005},
    {57.2300, 56.4900, 57.1600, 30.46773037909, 13.43085388151, 20.11447051567},
    {57.2600, 56.3200, 56.5100, 26.88659003053, 13.97790911727, 20.93407876429},
    {56.3500, 55.6800, 56.1100, 24.18364104938, 20.32451487876, 20.05811631681},
    {56.4900, 55.6500, 55.6800, 23.44134572308, 18.31748497075, 19.50183122749},
    {56.4600, 55.6800, 56.4500, 21.33457333454, 16.67121551081, 18.98528078740},
    {56.5500, 56.0500, 56.5325, 21.13977143105, 15.69730245230, 18.68450598009},
    {56.9800, 56.4500, 56.8300, 24.89038109258, 14.71593567236, 19.18482314130},
    {57.3500, 56.9200, 57.1800, 27.75704143043, 13.80408030073, 20.21248917370},
    {57.2200, 55.4700, 55.7300, 22.66671098887, 26.46763838543, 19.32129598468},
    {56.1600, 55.3900, 56.0000, 20.85449545366, 25.18219154120, 18.61267038838},
    {57.1800, 56.3600, 57.0500, 28.49960698921, 22.24680704912, 18.16331241062},
    {57.1700, 56.8400, 56.9550, 27.53301786334, 21.49228710829, 17.74605143126},
    {57.1400, 56.4000, 57.0575, 25.44866828845, 24.36654012127, 16.63363952427},
    {57.4200, 56.9000, 57.3750, 26.98738660789, 23.04623866043, 16.00816517047},
    {57.9700, 57.4000, 57.6500, 31.08389554683, 21.60376781678, 16.14994402988},
    {58.0700, 57.5600, 58.0250, 30.45707411426, 20.42377105407, 16.40489192931},
    {58.1200, 57.7500, 57.9300, 29.76361076854, 19.58787021003, 16.70589367047},
};

class Indicator : public is::Adx {
 public:
  explicit Indicator(trdk::Context &context,
                     const std::string &instanceName,
                     const lib::IniSectionRef &conf)
      : Adx(context, instanceName, conf) {}

 public:
  using Adx::OnServiceDataUpdate;
};
}

TEST(Services_AdxIndicator, General) {
  const lib::IniString settings(
      "[Section]\n"
      "id = {00000000-0000-0000-0000-000000000000}\n"
      "period = 14\n"
      "log = none");

  Mocks::Context context;
  Mocks::MarketDataSource marketDataSource;
  Mocks::Security security("TEST_SCALE4*/USD::FUT");
  Mocks::BarService bars;
  EXPECT_CALL(bars, GetSecurity()).WillRepeatedly(ReturnRef(security));

  Indicator indicator(context, "Test", lib::IniSectionRef(settings, "Section"));

  pt::ptime time = pt::microsec_clock::local_time();
  for (const auto &row : source) {
    time += pt::seconds(123);

    Mocks::BarService::Bar bar;
    bar.time = time;
    bar.openTradePrice = trdk::ScaledPrice(lib::Scale(row[0] + 99.99, 10000));
    bar.highTradePrice = trdk::ScaledPrice(lib::Scale(row[0], 10000));
    bar.lowTradePrice = trdk::ScaledPrice(lib::Scale(row[1], 10000));
    bar.closeTradePrice = trdk::ScaledPrice(lib::Scale(row[2], 10000));
    EXPECT_CALL(bars, GetLastBar()).Times(1).WillOnce(Return(bar));

    ASSERT_EQ(!lib::IsZero(row[5]),
              indicator.OnServiceDataUpdate(
                  bars, lib::TimeMeasurement::Milestones()));
    if (lib::IsZero(row[5])) {
      EXPECT_TRUE(indicator.IsEmpty());
      EXPECT_THROW(indicator.GetLastPoint(), Indicator::ValueDoesNotExistError);
      continue;
    }
    ASSERT_FALSE(indicator.IsEmpty());

    const auto &point = indicator.GetLastPoint();

    EXPECT_EQ(time, point.source.time);
    EXPECT_DOUBLE_EQ(row[0] + 99.99, point.source.open);
    EXPECT_DOUBLE_EQ(row[0], point.source.high);
    EXPECT_DOUBLE_EQ(row[1], point.source.low);
    EXPECT_DOUBLE_EQ(row[2], point.source.close);

    EXPECT_NEAR(row[3], point.pdi, 0.00000000001);
    EXPECT_NEAR(row[4], point.ndi, 0.00000000001);
    EXPECT_NEAR(row[5], point.adx, 0.00000000001);
  }
}
